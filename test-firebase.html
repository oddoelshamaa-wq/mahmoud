<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ØªØ¬Ø±Ø¨Ø© Firebase Ø¨Ø³ÙŠØ·Ø©</title>
<style>
body { font-family: "Cairo", sans-serif; background: #f4f6f9; text-align: center; padding: 20px; }
input, button { padding: 10px; margin: 5px; border-radius: 5px; border: 1px solid #ccc; }
button { background: #007bff; color: white; cursor: pointer; }
button:hover { background: #0056b3; }
#employees { margin-top: 20px; }
</style>
</head>
<body>

<h2>ğŸ§ª ØªØ¬Ø±Ø¨Ø© Ø­ÙØ¸ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ† ÙÙŠ Firebase</h2>
<input type="text" id="name" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…ÙˆØ¸Ù">
<input type="text" id="job" placeholder="Ø§Ù„ÙˆØ¸ÙŠÙØ©">
<button onclick="saveEmployee()">Ø­ÙØ¸</button>

<h3>ğŸ“‹ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†</h3>
<div id="employees"></div>

<!-- Ù…ÙƒØªØ¨Ø§Øª Firebase -->
<script src="https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/11.0.1/firebase-database.js"></script>

<script>
// Ø¥Ø¹Ø¯Ø§Ø¯ Firebase (Ø¨Ù…ÙØ§ØªÙŠØ­Ùƒ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ©)
const firebaseConfig = {
  apiKey: "AIzaSyBOXZCO7zF93g9zPbhVDI8r_AEV_-2PGLs",
  authDomain: "mahmoud-e2ad1.firebaseapp.com",
  databaseURL: "https://mahmoud-e2ad1-default-rtdb.firebaseio.com",
  projectId: "mahmoud-e2ad1",
  storageBucket: "mahmoud-e2ad1.firebasestorage.app",
  messagingSenderId: "1056736197329",
  appId: "1:1056736197329:web:0d083d8082f0893b0763f0",
  measurementId: "G-LEDWJMJ5L9"
};

// Ø§Ù„ØªÙ‡ÙŠØ¦Ø©
const app = firebase.initializeApp(firebaseConfig);
const db = firebase.database();

// Ø­ÙØ¸ Ù…ÙˆØ¸Ù
function saveEmployee() {
  let name = document.getElementById("name").value.trim();
  let job = document.getElementById("job").value.trim();
  if (!name || !job) return alert("Ø£Ø¯Ø®Ù„ Ø§Ù„Ø§Ø³Ù… ÙˆØ§Ù„ÙˆØ¸ÙŠÙØ©!");

  // Ø¥Ù†Ø´Ø§Ø¡ id ØªÙ„Ù‚Ø§Ø¦ÙŠ
  let newRef = db.ref("employees").push();
  newRef.set({ name, job })
    .then(() => alert("âœ… ØªÙ… Ø§Ù„Ø­ÙØ¸ ÙÙŠ Firebase"))
    .catch(err => alert("âŒ Ø®Ø·Ø£: " + err.message));
}

// ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†
db.ref("employees").on("value", snapshot => {
  let data = snapshot.val();
  let container = document.getElementById("employees");
  container.innerHTML = "";
  if (data) {
    Object.entries(data).forEach(([id, emp]) => {
      container.innerHTML += `<p>ğŸ‘¤ ${emp.name} â€“ ${emp.job}</p>`;
    });
  } else {
    container.innerHTML = "<p>Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…ÙˆØ¸ÙÙŠÙ† Ø¨Ø¹Ø¯</p>";
  }
});
</script>
</body>
</html>
